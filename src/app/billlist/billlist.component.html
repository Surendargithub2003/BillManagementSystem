<mat-toolbar>
  Bill List
</mat-toolbar>

<div class="container">
  <table mat-table [dataSource]="bills" class="mat-elevation-z8" *ngIf="bills.length > 0">
     
      <ng-container matColumnDef="billId">
          <th mat-header-cell *matHeaderCellDef> Bill ID </th>
          <td mat-cell *matCellDef="let bill"> {{ bill._id }} </td>
      </ng-container>

      
      <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef> Date </th>
          <td mat-cell *matCellDef="let bill"> {{ bill.date | date }} </td>
      </ng-container>

     
      <ng-container matColumnDef="items">
          <th mat-header-cell *matHeaderCellDef> Items </th>
          <td mat-cell *matCellDef="let bill">
              <ul>
                  <li *ngFor="let item of bill.items">
                      {{ item.product.name }} - ₹{{ item.product.price }} x {{ item.quantity }} = ₹{{ item.total }}
                  </li>
              </ul>
          </td>
      </ng-container>

   
      <ng-container matColumnDef="total">
          <th mat-header-cell *matHeaderCellDef> Total Amount </th>
          <td mat-cell *matCellDef="let bill"> ₹{{ calculateBillTotal(bill) }} </td>
      </ng-container>

    <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Actions </th>
          <td mat-cell *matCellDef="let bill">
              <button mat-raised-button color="warn" (click)="onDelete(bill._id)">DELETE</button>
          </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['billId', 'date', 'items', 'total', 'actions']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['billId', 'date', 'items', 'total', 'actions'];"></tr>
  </table>

  <p *ngIf="bills.length === 0" class="info-text mat-body-1">No bills added yet</p>
</div>



